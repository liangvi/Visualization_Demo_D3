<!doctype html>

<html lang="en">
  <head>
  <title>This is the title of the webpage!</title>
	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script src="http://d3js.org/topojson.v1.min.js"></script>
  <!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  	<!--d3 Import -->
  <script src="https://d3js.org/d3.v5.min.js"></script>

  <!-- map -->
  <!-- https://bl.ocks.org/mbostock/4206573-->
  <!-- http://duspviz.mit.edu/d3-workshop/mapping-data-with-d3/ -->
  <!-- https://bl.ocks.org/JulienAssouline/1ae3480c5277e2eecd34b71515783d6f -->
    <script type="text/javascript" src="static/js/main.js"></script>
    <link rel="stylesheet" type="text/css" href="static/css/main.css">

  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta charset="utf-8">
  </head>
  <body>

<div class="container-flud">

    <!--https://getbootstrap.com/docs/4.0/components/buttons/-->

 <div class="btn-group btn-group-lg" role="group" aria-label="...">
    <a class="btn btn-primary" href="/" role="button">
        Explore
    </a>
    <a class="btn btn-primary" href="/compare/all/all" role="button">
        Compare
    </a>
    <a class="btn btn-primary" href="/analysis" role="button">
        Analysis
    </a>
  </div>
    <!--https://observablehq.com/@d3/u-s-state-capitals-->
    <!--http://bl.ocks.org/stevenae/8362841-->
    <div>
      <svg id="choropleth" width="400" height="400"></svg>
    </div>
  </body>
    <script type="text/javascript" src="/static/js/index.js"></script>
    <!--<script type="text/javascript">
        console.log("and the current time is:", Date.now());
        //drawMap({{ data }} {{ json|tojson }} );
        drawMap({{ json|tojson }} );
    </script>-->
    <!-- https://www.d3-graph-gallery.com/graph/choropleth_basic.html -->
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>

    <!-- Create an element where the map will take place -->
    <svg id="my_dataviz" width="400" height="300"></svg>
    <script>

      // The svg
      var svg = d3.select("svg"),
        width = +svg.attr("width"),
        height = +svg.attr("height");

      // Map and projection
      var path = d3.geoPath();
      var projection = d3.geoMercator()
        .scale(70)
        .center([0,20])
        .translate([width / 2, height / 2]);

      // Data and color scale
      var data = d3.map();
      var colorScale = d3.scaleThreshold()
        .domain([100000, 1000000, 10000000, 30000000, 100000000, 500000000])
        .range(d3.schemeBlues[7]);

      // Load external data and boot
      d3.queue()
        .defer(d3.json, "https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson")
        .defer(d3.csv, "https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world_population.csv", function(d) { data.set(d.code, +d.pop); })
        .await(ready);

      function ready(error, topo) {

        // Draw the map
        svg.append("g")
          .selectAll("path")
          .data(topo.features)
          .enter()
          .append("path")
            // draw each country
            .attr("d", d3.geoPath()
              .projection(projection)
            )
            // set the color of each country
            .attr("fill", function (d) {
              d.total = data.get(d.id) || 0;
              return colorScale(d.total);
            });
          }

      </script>




                <!-- samples
  <script type="text/javascript" src="static/js/barDemo.js"></script>
  <script type="text/javascript" src="static/js/scatterDemo.js"></script>
  -->

</html>
